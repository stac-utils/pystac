{% macro scalar(key, value) -%}
    {% if value is mapping %}
        <li><details>
            <summary class="pystac-summary"><span class="pystac-key">{{ key }}</span></summary>
            {{ dict(value) }}
        </details></li>
    {% else %}
        <li style="overflow-wrap: break-word; padding-left: 2.125em; text-indent: -0.5em;">
            <span class="pystac-key pystac-key-value">{{ key }}</span>
            <span style="color: rgb(186, 33, 33);">{% if value is string %}"{{ value }}"{% else %}{{ value }}{% endif %}</span>
        </li>
    {% endif %}
{%- endmacro %}

{% macro list(key, value) -%}
    <li><details>
        <summary class="pystac-summary">
            <span class="pystac-key">{{ key }}</span>
            <span style="padding-left: 0.5em; color: rgb(64, 128, 128); font-style: italic;">[] {{ value|length }} items</span>
        </summary>
        {% for item in value %}
            {{ dict({loop.index - 1: item}) }}
        {% endfor %}
    </details></li>
{%- endmacro %}

{% macro dict(dict) -%}
    <ul style="margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;">
        {% for key, value in dict.items() %}
            {% if value is iterable and (value is not string and value is not mapping) %}
                {{ list(key, value) }}
            {% else %}
                {{ scalar(key, value) }}
            {% endif %}
        {% endfor %}
    </ul>
{%- endmacro %}